[English](https://github.com/dale0525/siyuan-auto-seq-number//blob/main/README.md)

# 思源笔记标题序号插件
自动为标题生成序号的思源笔记插件。

## 使用方法
安装插件后，会在右上角添加一个为当前笔记生成/清除序号的按钮。点击会切换生成和清除状态。在当前笔记启用状态下，该按钮为激活状态。
如果当前笔记配置为可生成，在打开笔记、刷新笔记时也会刷新序号。
安装后，请先到插件设置页面进行设置：
- 默认启用：如果打开，则新笔记默认都会打开生成序号功能
- 实时更新：如果打开，并且当前笔记启用了生成序号，那么在新建一个块的时候，会触发更新序号。（停止输入2秒后才更新，防止打断正在进行的编辑）

  **由于更新序号会触发所有块 实际内容 的更新，可能会比较卡顿。请酌情开启。*
- h1-h6标题格式：生成的序号格式，见设置页说明
- 重置：初始化设置。点击后会重启思源笔记。不会删除针对每个单独文档是否开启序号生成的设置。

## 已知问题
- 由于更新序号会触发所有块**实际内容**的更新，生成和清除的时候可能会有短暂卡顿。建议此时避免进行编辑。
- 目前同一层级的标题仅支持最多99个（应该够用）

## 更新日志
### 2.0.2
- 修复开启中文序号时的使用问题
- 顶部按钮会直接显示当前文档启用状态，移除状态栏提示
- 优化设置界面显示

### 2.0.1
- 修复标题中带有其他格式的文字时，添加或删除序号会导致格式消失的问题

### 2.0.0
- 重构逻辑，不再使用伪css显示标题序号，而是直接修改笔记中的文本内容。因此在大纲和导出时依然有效。
- 应该解决了所有issue。

**感谢cursor的协助*

### 1.0.1
- 修复数字大于6时显示undefined的问题

### 1.0.0
- 设置项可自定义每个标题级别的序号
- 暂停更新，除非有bug

### 0.2.0
- 触发事件改为`loaded-protyle-static`( [#1](https://github.com/dale0525/siyuan-auto-seq-number/issues/1) )
- 改用::before伪元素实现序号，并使用SessionStorage缓存序号，避免聚焦时序号重置( [#2](https://github.com/dale0525/siyuan-auto-seq-number/issues/2), [#3](https://github.com/dale0525/siyuan-auto-seq-number/issues/3) )